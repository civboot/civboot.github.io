<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Civboot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles.css">
</head>
<nav>
  <ul>
    <a href="../index.html"   class="nav"             >civ/</a>
    <a href="index.html"      class="nav nav-selected">lua/</a>
  </ul>
</nav>

<body><div class=doc>
Get documentation on any Lua object. Includes documentation for several items
in the lua stdlibrary.
<p>
<div class=info>Note: This requires the PKG protocol to be installed, see <a href="lib/pkg">lib/pkg</a></div>
<p>
Making a library's types self-documenting is easy:
<p>
<div class=code-block>local G = G or _G<br>
-- My module docs<br>
local M = G.mod and mod'myModName' or {}<br>
<br>
--- my fn docs in [$cxt]<br>
M.myFn = function(a, b) --&gt; string<br>
&nbsp; -- do stuff<br>
end
</div>
<p>
See Package_pkg and Package_cxt for more details.
<p>
<b>Other Resources</b> <ul>
  <li>Lua API reference: <a href="https://www.lua.org/manual">https://www.lua.org/manual</a></li>
  <li>Tutorial style documentation: <a href="https://www.lua.org/pil/contents.html">https://www.lua.org/pil/contents.html</a></li>
</ul>
<h2>Module <a id="doc" href="#doc">doc</a> (<a href=".civ/lua/doc.lua:11"><i>src</i></a>)</h2>
Get documentation for lua types and syntax.
<p>
Examples: <div class=code-block>doc{string.find}<br>
doc'for'<br>
doc'myMod.myFunction'
</div>
<p>
<h4>Value <a id="doc.__name" href="#doc.__name">doc.__name</a></h4>
<h3>Record <a id="doc.Doc" href="#doc.Doc">doc.Doc</a> (<a href=".civ/lua/doc.lua:112"><i>src</i></a>)</h3>
Documentation on a single type
These pull together the various sources of documentation
from the PKG and META_TY specs into a single object.
<p>
<b>Fields: </b> <div class=table><table>
  <tr>
    <td><span class=code>obj</span></td>
    <td>[any] 
    the object being documented</td>
  </tr>
  <tr>
    <td><span class=code>name</span></td>
    <td>[string] </td>
  </tr>
  <tr>
    <td><span class=code>ty</span></td>
    <td>[Type] 
    type, can be string</td>
  </tr>
  <tr>
    <td><span class=code>docTy</span></td>
    <td>[string] </td>
  </tr>
  <tr>
    <td><span class=code>path</span></td>
    <td>[str] </td>
  </tr>
  <tr>
    <td><span class=code>main</span></td>
    <td>[Doc] 
    main Args, mostly used for PKG</td>
  </tr>
  <tr>
    <td><span class=code>meta</span></td>
    <td>[table] 
    metadata, mostly used for PKG</td>
  </tr>
  <tr>
    <td><span class=code>comments</span></td>
    <td>[lines] 
    comments above item</td>
  </tr>
  <tr>
    <td><span class=code>fnsig</span></td>
    <td>[string] 
    function signature</td>
  </tr>
  <tr>
    <td><span class=code>code</span></td>
    <td>[lines] 
    code which defines the item</td>
  </tr>
  <tr>
    <td><span class=code>call</span></td>
    <td>[function] </td>
  </tr>
  <tr>
    <td><span class=code>fields</span></td>
    <td>[table{name=DocItem}] 
    (for metatys)</td>
  </tr>
  <tr>
    <td><span class=code>values</span></td>
    <td>[table] 
    raw values that are not the other types</td>
  </tr>
  <tr>
    <td><span class=code>tys</span></td>
    <td>[table] 
    table of values</td>
  </tr>
  <tr>
    <td><span class=code>fns</span></td>
    <td>[table] 
    methods or functions</td>
  </tr>
  <tr>
    <td><span class=code>mods</span></td>
    <td>[table] 
    sub modules (for PKG)</td>
  </tr>
  <tr>
    <td><span class=code>lvl</span></td>
    <td>[int] 
    level inside another type (nil or 1)</td>
  </tr>
</table></div>
<b>Values: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.Doc.__docs</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc.Doc.__fieldIds</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc.Doc.__fields</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc.Doc.__name</span></td>
    <td>[string] </td>
  </tr>
</table></div>
<b>Records: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.Doc.__index</span></td>
    <td>[Ty<Doc>] (<a href=".civ/lua/doc.lua:112">src</a>)</td>
  </tr>
</table></div>
<b>Methods: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.Doc.__fmt</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:234">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.Doc.__newindex</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:297">src</a>)</td>
  </tr>
</table></div>
<h3>Record <a id="doc.DocItem" href="#doc.DocItem">doc.DocItem</a> (<a href=".civ/lua/doc.lua:123"><i>src</i></a>)</h3>
<p>
<b>Fields: </b> <div class=table><table>
  <tr>
    <td><span class=code>parent</span></td>
    <td>[string] </td>
  </tr>
  <tr>
    <td><span class=code>obj</span></td>
    <td>[any] </td>
  </tr>
  <tr>
    <td><span class=code>name</span></td>
    <td>  </td>
  </tr>
  <tr>
    <td><span class=code>ty</span></td>
    <td>[string] </td>
  </tr>
  <tr>
    <td><span class=code>docTy</span></td>
    <td>[string] </td>
  </tr>
  <tr>
    <td><span class=code>path</span></td>
    <td>[string] </td>
  </tr>
  <tr>
    <td><span class=code>fnsig</span></td>
    <td>[string] 
    function signature</td>
  </tr>
  <tr>
    <td><span class=code>default</span></td>
    <td>[any] </td>
  </tr>
  <tr>
    <td><span class=code>doc</span></td>
    <td>[string] </td>
  </tr>
</table></div>
<b>Values: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.DocItem.__docs</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc.DocItem.__fieldIds</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc.DocItem.__fields</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc.DocItem.__name</span></td>
    <td>[string] </td>
  </tr>
</table></div>
<b>Records: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.DocItem.__index</span></td>
    <td>[Ty<DocItem>] (<a href=".civ/lua/doc.lua:123">src</a>)</td>
  </tr>
</table></div>
<b>Methods: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.DocItem.__fmt</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:234">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.DocItem.__newindex</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:297">src</a>)</td>
  </tr>
</table></div>
<h2>Command <a id="doc.Main" href="#doc.Main">doc.Main</a> (<a href=".civ/lua/doc.lua:26"><i>src</i></a>)</h2>
Compile documentation for one or more lua objects.
<p>
Usage: <div class=code-block>&nbsp;doc{'path.of.object'}</div>
<p>
<p>
<b>Named Args: </b> <div class=table><table>
  <tr>
    <td><span class=code>cmd</span></td>
    <td>[symbol] 
    symbol to document as the command. Command documentation is first</td>
  </tr>
  <tr>
    <td><span class=code>raw</span></td>
    <td>[{path}] 
    any number of (raw cxt) paths to put before API documentation</td>
  </tr>
  <tr>
    <td><span class=code>expand</span></td>
    <td>[int</td>
    <td>bool] = <span class=code>1</span>
    expand to depth (expand=true means expand=10)</td>
  </tr>
  <tr>
    <td><span class=code>to</span></td>
    <td>[path] 
    the output. If this ends in .html then</td>
  </tr>
  <tr>
    <td><span class=code>html</span></td>
    <td>[cxt.HtmlConfig] 
    html configuration.</td>
  </tr>
</table></div>
<h3>Record <a id="doc._Construct" href="#doc._Construct">doc._Construct</a> (<a href=".civ/lua/doc.lua:144"><i>src</i></a>)</h3>
internal type to construct Doc and DocItems
<p>
<b>Fields: </b> <div class=table><table>
  <tr>
    <td><span class=code>done</span></td>
    <td>[table] 
    objects already documented</td>
  </tr>
</table></div>
<b>Values: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc._Construct.__docs</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.__fieldIds</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.__fields</span></td>
    <td>[table] </td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.__name</span></td>
    <td>[string] </td>
  </tr>
</table></div>
<b>Records: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc._Construct.__index</span></td>
    <td>[Ty<_Construct>] (<a href=".civ/lua/doc.lua:144">src</a>)</td>
  </tr>
</table></div>
<b>Methods: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc._Construct.__call</span></td>
    <td>[<span class=code>(c, obj, key, expand, lvl) -&gt; Doc | DocItem</span>] (<a href=".civ/lua/doc.lua:237">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.__fmt</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:234">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.__newindex</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:297">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.__tostring</span></td>
    <td>[function] (<a href=".civ/lua/metaty.lua:240">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.main</span></td>
    <td>[<span class=code>(c, obj) -&gt; Doc</span>] (<a href=".civ/lua/doc.lua:253">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc._Construct.write</span></td>
    <td>[function] (<a href=".civ/lua/doc.lua:149">src</a>)</td>
  </tr>
</table></div>
<h3>Function <a id="doc.cleanFieldTy" href="#doc.cleanFieldTy">doc.cleanFieldTy</a> (<a href=".civ/lua/doc.lua:301"><i>src</i></a>)</h3>
<h3>Function <a id="doc.construct" href="#doc.construct">doc.construct</a><span class=code>(obj, key, expand, lvl) -&gt; M._Construct{}(obj, key, expand, lvl)</span> (<a href=".civ/lua/doc.lua:139"><i>src</i></a>)</h3>
get a Doc or DocItem. If expand is true then recurse.
<h3>Function <a id="doc.docHeader" href="#doc.docHeader">doc.docHeader</a> (<a href=".civ/lua/doc.lua:374"><i>src</i></a>)</h3>
<h3>Function <a id="doc.find" href="#doc.find">doc.find</a> (<a href=".civ/lua/doc.lua:62"><i>src</i></a>)</h3>
<h3>Function <a id="doc.findcode" href="#doc.findcode">doc.findcode</a><span class=code>(loc) -&gt; (commentLines, codeLines)</span> (<a href=".civ/lua/doc.lua:297"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmt" href="#doc.fmt">doc.fmt</a> (<a href=".civ/lua/doc.lua:436"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtAttr" href="#doc.fmtAttr">doc.fmtAttr</a> (<a href=".civ/lua/doc.lua:365"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtDoc" href="#doc.fmtDoc">doc.fmtDoc</a> (<a href=".civ/lua/doc.lua:429"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtDocItem" href="#doc.fmtDocItem">doc.fmtDocItem</a> (<a href=".civ/lua/doc.lua:341"><i>src</i></a>)</h3>
<h3>Function <a id="doc.fmtMeta" href="#doc.fmtMeta">doc.fmtMeta</a> (<a href=".civ/lua/doc.lua:383"><i>src</i></a>)</h3>
<h3>Function <a id="doc.getpath" href="#doc.getpath">doc.getpath</a> (<a href=".civ/lua/doc.lua:321"><i>src</i></a>)</h3>
get any path with <span class=code>.</span> in it. This is mostly used by help/etc functions
<h3>Function <a id="doc.modinfo" href="#doc.modinfo">doc.modinfo</a><span class=code>(obj) -&gt; (name, loc)</span> (<a href=".civ/lua/doc.lua:267"><i>src</i></a>)</h3>
<h3>Function <a id="doc.stripComments" href="#doc.stripComments">doc.stripComments</a> (<a href=".civ/lua/doc.lua:308"><i>src</i></a>)</h3>
<h3>Function <a id="doc.tryfind" href="#doc.tryfind">doc.tryfind</a><span class=code>(obj) -&gt; any?</span> (<a href=".civ/lua/doc.lua:58"><i>src</i></a>)</h3>
Find the object or name
<h3>Function <a id="doc.type" href="#doc.type">doc.type</a> (<a href=".civ/lua/doc.lua:136"><i>src</i></a>)</h3>
return the object's "document type"
<h2>Module <a id="doc.lua" href="#doc.lua">doc.lua</a> (<a href=".civ/lua/doc/lua.lua:15"><i>src</i></a>)</h2>
<p>
<b>Values: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.io.stderr</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.stdout</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
</table></div>
<h4>Value <a id="doc.lua.__name" href="#doc.lua.__name">doc.lua.__name</a></h4>
<h3>Table <a id="doc.lua.false" href="#doc.lua.false">doc.lua.false</a> (<a href=".civ/lua/doc/lua.lua:546"><i>src</i></a>)</h3>
<h4>Value <a id="doc.lua.io._stderr" href="#doc.lua.io._stderr">doc.lua.io._stderr</a> (<a href=".civ/lua/doc/lua.lua:396"><i>src</i></a>)</h4>
not documented: see <span class=code>io</span> module
<h4>Value <a id="doc.lua.io._stdout" href="#doc.lua.io._stdout">doc.lua.io._stdout</a> (<a href=".civ/lua/doc/lua.lua:396"><i>src</i></a>)</h4>
not documented: see <span class=code>io</span> module
<h3>Table <a id="doc.lua.io.fmt" href="#doc.lua.io.fmt">doc.lua.io.fmt</a> (<a href=".civ/lua/doc/lua.lua:396"><i>src</i></a>)</h3>
not documented: see <span class=code>io</span> module
<h4>Value <a id="doc.lua.io.stdin" href="#doc.lua.io.stdin">doc.lua.io.stdin</a> (<a href=".civ/lua/doc/lua.lua:396"><i>src</i></a>)</h4>
not documented: see <span class=code>io</span> module
<h3>Table <a id="doc.lua.io.user" href="#doc.lua.io.user">doc.lua.io.user</a> (<a href=".civ/lua/doc/lua.lua:396"><i>src</i></a>)</h3>
not documented: see <span class=code>io</span> module
<h3>Table <a id="doc.lua.local" href="#doc.lua.local">doc.lua.local</a> (<a href=".civ/lua/doc/lua.lua:538"><i>src</i></a>)</h3>
<span class=code>local x = (expression)</span>
<p>
Define a local (instead of a global) variable. Prefer local variables for
most things unless you are: <ul>
  <li>modifying the fundamentals of the language (i.e. replacing 'require')</li>
  <li>implementing a "protocol" for libraries to communicate global state</li>
  <li>managing true physical state (i.e. robotics, terminal output, etc)</li>
  <li>you are the top-level application (i.e. a game, CLI, etc) and global state
  is the best solution.</li>
</ul>
<h4>Value <a id="doc.lua.math.huge" href="#doc.lua.math.huge">doc.lua.math.huge</a></h4>
<h4>Value <a id="doc.lua.math.maxinteger" href="#doc.lua.math.maxinteger">doc.lua.math.maxinteger</a></h4>
<h4>Value <a id="doc.lua.math.mininteger" href="#doc.lua.math.mininteger">doc.lua.math.mininteger</a></h4>
<h4>Value <a id="doc.lua.math.pi" href="#doc.lua.math.pi">doc.lua.math.pi</a></h4>
<h3>Table <a id="doc.lua.nil" href="#doc.lua.nil">doc.lua.nil</a> (<a href=".civ/lua/doc/lua.lua:553"><i>src</i></a>)</h3>
<span class=code>nil</span> value, the the absense of a value. Used for: <ul>
  <li>a variable is not set or has been set to <span class=code>nil</span></li>
  <li>a table key is not set or has been set to <span class=code>nil</span></li>
</ul>
<h3>Table <a id="doc.lua.true" href="#doc.lua.true">doc.lua.true</a> (<a href=".civ/lua/doc/lua.lua:542"><i>src</i></a>)</h3>
<b>Functions: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.io.close</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.flush</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.input</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.lines</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.open</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.output</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.popen</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:393">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.read</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.tmpfile</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.type</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.write</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.abs</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.acos</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:451">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.asin</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:452">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.atan</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:453">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.atan2</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:453">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.ceil</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.cos</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:448">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.cosh</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.deg</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.exp</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:454">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.floor</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.fmod</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.frexp</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.ldexp</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.log</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.log10</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.max</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:446">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.min</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:447">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.modf</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.pow</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.rad</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.random</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.randomseed</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.sin</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:449">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.sinh</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.sqrt</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.tan</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:450">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.tanh</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.tointeger</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.type</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:445">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.ult</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.clock</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.date</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.difftime</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.execute</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:435">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.exit</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.getenv</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.remove</span></td>
    <td>[function] (<a href=".civ/lua/civix.lua:172">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.rename</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.setlocale</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.time</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.tmpname</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.byte</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:229">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.char</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:232">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.concat</span></td>
    <td>[function] (<a href=".civ/lua/ds.lua:67">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.dump</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.find</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:159">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.format</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:224">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.gmatch</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:172">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.gsub</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:192">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.len</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.lower</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.match</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:165">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.pack</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:258">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.packsize</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:264">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.rep</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:235">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.reverse</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.sub</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:178">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.unpack</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:261">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.upper</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.concat</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:305">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.insert</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:330">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.move</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:342">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.remove</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:309">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.sort</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:313">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.update</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:296">src</a>)</td>
  </tr>
</table></div>
<h3>Function <a id="doc.lua.for" href="#doc.lua.for">doc.lua.for</a> (<a href=".civ/lua/doc/lua.lua:525"><i>src</i></a>)</h3>
for is a looping construct with two forms:
<p>
Numeric: <div class=code-block>&nbsp; for i=si,ei,period do -- period=1 by default<br>
&nbsp; &nbsp; ... do something with i<br>
&nbsp; end<br>
<br>
&nbsp; -- is basically the same as<br>
&nbsp; local i = si<br>
&nbsp; while i &lt;= ei do i = i + si<br>
&nbsp; &nbsp; ... do something with i<br>
&nbsp; end
</div>
<p>
Generic: <div class=code-block>&nbsp; for i, v, etc in (nextfn, state, _index) do<br>
&nbsp; &nbsp; .. do something with i, v, ...<br>
&nbsp; end<br>
<br>
&nbsp; -- is almost the same as<br>
&nbsp; while true do<br>
&nbsp; &nbsp; local i, v, etc = nextfn(state, _index)<br>
&nbsp; &nbsp; if i == nil then break end<br>
&nbsp; &nbsp; _index = i -- note: C internal, _index from lua doesn't change<br>
&nbsp; &nbsp; ... code using i, v, etc here<br>
&nbsp; end
</div>
<p>
The goal in writing a stateless iterator function is to match this
loop's API as much as possible.
<p>
Example rewriting ipairs: <div class=code-block>&nbsp; local function rawipairs(t, i)<br>
&nbsp; &nbsp; i = i + 1<br>
&nbsp; &nbsp; if i &gt; #t then return nil end<br>
&nbsp; &nbsp; return i, t[i]<br>
&nbsp; end<br>
&nbsp; local function myipairs_(t)<br>
&nbsp; &nbsp; return rawipairs, t, 0<br>
&nbsp; end<br>
&nbsp; for i, v in myipairs{5, 6, 7} do<br>
&nbsp; &nbsp; iterates through (1, 5) -&gt; (2, 6) -&gt; (3, 7)<br>
&nbsp; end
</div>
<p>
Example rewriting pairs using <span class=code>next(t, key)</span>: <div class=code-block>&nbsp; function mypairs(t)<br>
&nbsp; &nbsp; return next, t, nil<br>
&nbsp; end<br>
&nbsp; for k, v in mypairs{a=1, b=2, c=3} do<br>
&nbsp; &nbsp; iterates through ('a', 1) -&gt; ('b', 2) -&gt; ('c', 3)<br>
&nbsp; end
</div>
<p>
See also: metaty.split is a more complex example.
<h3>Function <a id="doc.lua.getmetatable" href="#doc.lua.getmetatable">doc.lua.getmetatable</a><span class=code>(t) -&gt; mt</span> (<a href=".civ/lua/doc/lua.lua:98"><i>src</i></a>)</h3>
See setmetatable.
<h3>Function <a id="doc.lua.keyword" href="#doc.lua.keyword">doc.lua.keyword</a><span class=code>() -&gt; setmetatable({}, Keyword)</span> (<a href=".civ/lua/doc/lua.lua:20"><i>src</i></a>)</h3>
<h3>Function <a id="doc.lua.next" href="#doc.lua.next">doc.lua.next</a><span class=code>(tbl, key) -&gt; nextKey</span> (<a href=".civ/lua/doc/lua.lua:53"><i>src</i></a>)</h3>
Get the next key in the table. Used for iterating through tables.
If <span class=code>key=nil</span> returns the first key. Returns <span class=code>nil</span> when <span class=code>key</span> is
the last key.
<h3>Function <a id="doc.lua.pcall" href="#doc.lua.pcall">doc.lua.pcall</a><span class=code>(fn, ...) -&gt; ok, fn(...)</span> (<a href=".civ/lua/doc/lua.lua:57"><i>src</i></a>)</h3>
call a function but catch errors. Returns <span class=code>ok</span> followed by the function
results. If not ok, returns the error.
<h3>Function <a id="doc.lua.select" href="#doc.lua.select">doc.lua.select</a> (<a href=".civ/lua/doc/lua.lua:62"><i>src</i></a>)</h3>
select elements in varargs <span class=code>...</span> at and after index.
<p>
Special value: if <span class=code>index='#'</span> then returns length of <span class=code>...</span>
<h3>Function <a id="doc.lua.setmetatable" href="#doc.lua.setmetatable">doc.lua.setmetatable</a> (<a href=".civ/lua/doc/lua.lua:95"><i>src</i></a>)</h3>
Sets the metatable on the table which can get gotten with
<span class=code>getmetatable</span> and affects the behavior of operators.
<p>
All metamethods: <div class=code-block>__index &nbsp; &nbsp;(i.e. t[k]) &nbsp; &nbsp; NOTE: these are only called<br>
__newindex (i.e. t[k] = v) &nbsp; &nbsp; &nbsp; when key is missing!<br>
<br>
__call &nbsp; &nbsp; (i.e. t())<br>
__tostring (i.e. tostring(t))<br>
<br>
+ &nbsp; &nbsp; &nbsp; &nbsp; - &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp; &nbsp; &nbsp;/ &nbsp; &nbsp; &nbsp; // &nbsp; &nbsp; &nbsp; &nbsp;%<br>
__add &nbsp; &nbsp; __sub &nbsp; &nbsp;__mul &nbsp; &nbsp;__div &nbsp; __idiv &nbsp; &nbsp;__mod<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __unm<br>
<br>
&amp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp;~ &nbsp; &nbsp; &nbsp; &nbsp;&lt;&lt; &nbsp; &nbsp; &nbsp;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp;^<br>
__band &nbsp; &nbsp;__bor &nbsp; &nbsp;__bnot &nbsp; __shl &nbsp; __shr &nbsp; &nbsp; __pow<br>
<br>
== &nbsp; &nbsp; &nbsp; &nbsp;&lt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;= &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp; &nbsp; &nbsp;..<br>
__eq &nbsp; &nbsp; &nbsp;__lt &nbsp; &nbsp; __le &nbsp; &nbsp; __len &nbsp; &nbsp;__concat<br>
<br>
__name
</div>
<p>
<div class=info> See also metaty metamethods: __fields   __fmt</div>
<h3>Function <a id="doc.lua.tostring" href="#doc.lua.tostring">doc.lua.tostring</a><span class=code>(v) -&gt; string</span> (<a href=".civ/lua/doc/lua.lua:101"><i>src</i></a>)</h3>
Convert any value to a string by calling __tostring or using lua's default.
<h3>Function <a id="doc.lua.type" href="#doc.lua.type">doc.lua.type</a><span class=code>(val) -&gt; string</span> (<a href=".civ/lua/doc/lua.lua:69"><i>src</i></a>)</h3>
Get the type of <span class=code>val</span>. Possible return values are: <ul>
  <li>data: nil number string boolean table</li>
  <li>other: function thread userdata</li>
</ul>
<div class=info> See also: metaty.ty(v) for metatypes</div>
<p>
<h2>Module <a id="doc.lua.io" href="#doc.lua.io">doc.lua.io</a> (<a href=".civ/lua/doc/lua.lua:385"><i>src</i></a>)</h2>
the builtin lua io (input/output) module
<p>
Module Functions: <div class=table><table>
  <tr>
    <td><span class=code>&nbsp;input(file=nil) &nbsp;-&gt; &nbsp;file &nbsp;</span></td>
    <td>get/set stdin</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;output(file=nil) -&gt; &nbsp;file &nbsp;</span></td>
    <td>get/set stdout</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;tmpfile() -&gt; file &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></td>
    <td>note: removed on program exit</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;popen() &nbsp; -&gt; file &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></td>
    <td>see io.popen</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;lines(path or file) -&gt; iter</span></td>
    <td>close when done, fail=error</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;type(f) -&gt; "[closed ]file" </span></td>
    <td>get whether f is a file</td>
  </tr>
</table></div>
<p>
File Methods: <div class=table><table>
  <tr>
    <td><span class=code>&nbsp;read(format="l") &nbsp;</span></td>
    <td>read a file according to format</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;lines(format="l") </span></td>
    <td>get iterator for reading format</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;write(a, b, ...) &nbsp;</span></td>
    <td>write strings a, b, ... in order</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;flush() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></td>
    <td>flush (save) all writes</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;seek(whence, offset)</span></td>
    <td>see seek section below</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;setvbuf("no|full|line", sizeHint=appropriateSize)</span> see function</td>
  </tr>
</table></div>
<p>
Format paramater used in read/etc <div class=table><table>
  <tr>
    <td>format</td>
    <td>behavior</td>
    <td>(in Lua<=5.2)</td>
  </tr>
  <tr>
    <td>a</td>
    <td>read all text                        *a</td>
  </tr>
  <tr>
    <td>l</td>
    <td>read next line, skip EOL             *l</td>
  </tr>
  <tr>
    <td>L</td>
    <td>read next line, keep EOL             *L</td>
  </tr>
  <tr>
    <td>n</td>
    <td>read and return a number             *n</td>
  </tr>
  <tr>
    <td>number</td>
    <td>read an exact number of bytes, EOF=nil</td>
  </tr>
  <tr>
    <td>0</td>
    <td>EOF=nil, notEOF=''</td>
  </tr>
</table></div>
<p>
seek <div class=table><table>
  <tr>
    <td><span class=code>&nbsp;whence="set" </span></td>
    <td>offset from beginning of file (0)</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;whence="cur" </span></td>
    <td>offset from current position</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;whence="end" </span></td>
    <td>offset from end of file (use negative)</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;seek() &nbsp; &nbsp; &nbsp; </span></td>
    <td>get current position</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;seek'set' &nbsp; &nbsp;</span></td>
    <td>set to beginning</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;seek'end' &nbsp; &nbsp;</span></td>
    <td>set to end</td>
  </tr>
</table></div>
<p>
<b>Values: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.io._stderr</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io._stdout</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.fmt</span></td>
    <td>[Fmt] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.stderr</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.stdin</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.stdout</span></td>
    <td>[userdata] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.user</span></td>
    <td>[Fmt] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
</table></div>
<b>Functions: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.io.close</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.flush</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.input</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.lines</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.open</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.output</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.popen</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:393">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.read</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.tmpfile</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.type</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.io.write</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:396">src</a>)</td>
  </tr>
</table></div>
<h2>Module <a id="doc.lua.math" href="#doc.lua.math">doc.lua.math</a> (<a href=".civ/lua/doc/lua.lua:443"><i>src</i></a>)</h2>
The builtin lua math module.
<p>
<b>Values: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.math.huge</span></td>
    <td>[number] </td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.maxinteger</span></td>
    <td>[number] </td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.mininteger</span></td>
    <td>[number] </td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.pi</span></td>
    <td>[number] </td>
  </tr>
</table></div>
<b>Functions: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.math.abs</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.acos</span></td>
    <td>[<span class=code>(x) -&gt; arccos(x) in radians</span>] (<a href=".civ/lua/doc/lua.lua:451">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.asin</span></td>
    <td>[<span class=code>(x) -&gt; arcsin(x) in radians</span>] (<a href=".civ/lua/doc/lua.lua:452">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.atan</span></td>
    <td>[<span class=code>(n, d) -&gt; arctan(n / d) in radians</span>] (<a href=".civ/lua/doc/lua.lua:453">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.atan2</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:453">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.ceil</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.cos</span></td>
    <td>[<span class=code>(x) -&gt; cos(x) in radians</span>] (<a href=".civ/lua/doc/lua.lua:448">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.cosh</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.deg</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.exp</span></td>
    <td>[<span class=code>(x) -&gt; e^x (where e is the natural log base)</span>] (<a href=".civ/lua/doc/lua.lua:454">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.floor</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.fmod</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.frexp</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.ldexp</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.log</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.log10</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.max</span></td>
    <td>[<span class=code>(x, ...) -&gt; max according to [$&lt;]</span>] (<a href=".civ/lua/doc/lua.lua:446">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.min</span></td>
    <td>[<span class=code>(x, ...) -&gt; min according to [$&lt;]</span>] (<a href=".civ/lua/doc/lua.lua:447">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.modf</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.pow</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.rad</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.random</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.randomseed</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.sin</span></td>
    <td>[<span class=code>(x) -&gt; sin(x) in radians</span>] (<a href=".civ/lua/doc/lua.lua:449">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.sinh</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.sqrt</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.tan</span></td>
    <td>[<span class=code>(x) -&gt; tan(x) in radians</span>] (<a href=".civ/lua/doc/lua.lua:450">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.tanh</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.tointeger</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.type</span></td>
    <td>[<span class=code>(v) -&gt; ("float" | "integer" | nil)</span>] (<a href=".civ/lua/doc/lua.lua:445">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.math.ult</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:461">src</a>)</td>
  </tr>
</table></div>
<h2>Module <a id="doc.lua.os" href="#doc.lua.os">doc.lua.os</a> (<a href=".civ/lua/doc/lua.lua:417"><i>src</i></a>)</h2>
the builtin lua os module
<p>
Useful functions: <div class=table><table>
  <tr>
    <td><span class=code>exit(rc=0, close=false)</span></td>
    <td>exit program with return code</td>
  </tr>
  <tr>
    <td><span class=code>date()</span></td>
    <td>get the date. See os.date</td>
  </tr>
  <tr>
    <td><span class=code>execute'command'</span></td>
    <td>execute command, see os.execute</td>
  </tr>
  <tr>
    <td><span class=code>getenv(varname)</span></td>
    <td>get environment variable</td>
  </tr>
  <tr>
    <td><span class=code>remove(path)</span></td>
    <td>rm path</td>
  </tr>
  <tr>
    <td><span class=code>rename(old, new)</span></td>
    <td>mv old new</td>
  </tr>
  <tr>
    <td><span class=code>tmpname() -&gt; path</span></td>
    <td>create temporary file</td>
  </tr>
  <tr>
    <td><span class=code>clock()</span></td>
    <td>seconds used by process (performance)</td>
  </tr>
</table></div>
<p>
Recommendations: <ul>
  <li>use civix.epoch() (nanosec precision) vs os.time() (sec precision)</li>
</ul>
<p>
<b>Functions: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.os.clock</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.date</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.difftime</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.execute</span></td>
    <td>[<span class=code>(string) -&gt; (ok, "exit", rc)</span>] (<a href=".civ/lua/doc/lua.lua:435">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.exit</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.getenv</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.remove</span></td>
    <td>[<span class=code>(path) -&gt; nil</span>] (<a href=".civ/lua/civix.lua:172">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.rename</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.setlocale</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.time</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.os.tmpname</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:438">src</a>)</td>
  </tr>
</table></div>
<h2>Module <a id="doc.lua.string" href="#doc.lua.string">doc.lua.string</a> (<a href=".civ/lua/doc/lua.lua:116"><i>src</i></a>)</h2>
the builtin lua string module.
<p>
string literal values can use <ul>
  <li><span class=code>'single quotes'</span></li>
  <li><span class=code>"double quotes"</span></li>
  <li><span class=code>[==[raw string with any number of = symbols ]==]</span></li>
</ul>
<p>
<span class=code>\</span> characters can be used to escape special characters,
except in raw bracketed strings. Common escaped characters
are <span class=code>\'</span> (literal <span class=code>'</span>), <span class=code>\n</span> (newline) and <span class=code>\t</span> (tab).
<p>
<b>Functions: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.string.byte</span></td>
    <td>[<span class=code>(str, si=1, ei=si) -&gt; ...ints</span>] (<a href=".civ/lua/doc/lua.lua:229">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.char</span></td>
    <td>[<span class=code>(c1, c2, ...) -&gt; string</span>] (<a href=".civ/lua/doc/lua.lua:232">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.concat</span></td>
    <td>[<span class=code>(sep, ...) -&gt; string</span>] (<a href=".civ/lua/ds.lua:67">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.dump</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.find</span></td>
    <td>[<span class=code>(subj, pat, index=1) -&gt; (si, ei, ...matches)</span>] (<a href=".civ/lua/doc/lua.lua:159">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.format</span></td>
    <td>[<span class=code>(fmt: str, ...) -&gt; str</span>] (<a href=".civ/lua/doc/lua.lua:224">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.gmatch</span></td>
    <td>[<span class=code>(subj, pat, index=1) -&gt; iterator()</span>] (<a href=".civ/lua/doc/lua.lua:172">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.gsub</span></td>
    <td>[<span class=code>(subj, pat, repl, index=1) -&gt; string</span>] (<a href=".civ/lua/doc/lua.lua:192">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.len</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.lower</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.match</span></td>
    <td>[<span class=code>(subj, pat, index=1) -&gt; ...groups</span>] (<a href=".civ/lua/doc/lua.lua:165">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.pack</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:258">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.packsize</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:264">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.rep</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:235">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.reverse</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.sub</span></td>
    <td>[<span class=code>(subj, si, ei) -&gt; str[si:ei]</span>] (<a href=".civ/lua/doc/lua.lua:178">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.unpack</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:261">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.string.upper</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:267">src</a>)</td>
  </tr>
</table></div>
<h2>Module <a id="doc.lua.table" href="#doc.lua.table">doc.lua.table</a> (<a href=".civ/lua/doc/lua.lua:291"><i>src</i></a>)</h2>
the builtin lua table module
<p>
Tables act as BOTH a map (of keys -> values) and a list (ordered values
starting at index=1).
<p>
You can access the keys with <span class=code>t[key]</span> or if they are a string without
special characters with <span class=code>t.key</span>.
<p>
Examples: <div class=code-block>t = {'first', 'second', 'third', key='hi'}<br>
T.eq('first', t[1])<br>
T.eq('third', t[3])<br>
T.eq('hi', &nbsp; &nbsp;t.key)<br>
T.eq(#t, 3) -- the length of the "list" part
</div>
<p>
<div class=info> WARNING: A table's length is defined as ANY index who's next value
is <span class=code>nil`</span>. That means using a table as a list with "holes" likely
won't work for you.
</div>
<p>
<b>Functions: </b> <div class=table><table>
  <tr>
    <td><span class=code>doc.lua.table.concat</span></td>
    <td>[<span class=code>(t, sep='') -&gt; string</span>] (<a href=".civ/lua/doc/lua.lua:305">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.insert</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:330">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.move</span></td>
    <td>[function] (<a href=".civ/lua/doc/lua.lua:342">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.push</span></td>
    <td>[<span class=code>(t, v) -&gt; index</span>] (<a href=".civ/lua/ds.lua:70">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.remove</span></td>
    <td>[<span class=code>(t, index=#table) -&gt; t[index]</span>] (<a href=".civ/lua/doc/lua.lua:309">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.sort</span></td>
    <td>[<span class=code>(list, cmp=lt) -&gt; nil</span>] (<a href=".civ/lua/doc/lua.lua:313">src</a>)</td>
  </tr>
  <tr>
    <td><span class=code>doc.lua.table.update</span></td>
    <td>[<span class=code>(to, from) -&gt; to</span>] (<a href=".civ/lua/doc/lua.lua:296">src</a>)</td>
  </tr>
</table></div>
</div></body>
</html>
