<head>
  <meta charset="utf-8">
  <title>Civboot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles.css">
</head>
<nav>
  <ul>
    <a href="../index.html"   class="nav"             >civ/</a>
    <a href="index.html"      class="nav nav-selected">lua/</a>
  </ul>
</nav>

<!DOCTYPE html>
<html>
<body><div class=doc>
Get documentation on any Lua object. Includes documentation for several items
in the lua stdlibrary.
<br>
Making a library's types self-documenting is easy:
<br>
<div class=code-block>local mty = require'metaty'<br>
<br>
-- My module docs<br>
local M = mty.mod'mymod'<br>
<br>
--- my fn docs in [$cxt]<br>
M.myFn = function(a, b) --&gt; string<br>
&nbsp; -- do stuff<br>
end
</div>
Once that is done, you can view your docs in the terimal
with <span class=code>doc'mymod'</span>.
<br>
<br>
<b>Other Resources</b> <ul>
  <li>civ:doc.luk on how to generate docs in your PKG.luk files.</li>
  <li>Lua API reference: <a href="https://www.lua.org/manual">https://www.lua.org/manual</a></li>
  <li>Tutorial style documentation: <a href="https://www.lua.org/pil/contents.html">https://www.lua.org/pil/contents.html</a></li>
</ul>
<br>
<h4><a id="doc-cmd" href="#doc-cmd" class=anchor>Command doc-cmd</h4></a>
Usage: <span class=code>doc some.symbol</span>
<br>
<br>
<b>Arguments:</b><ul>
  <li><a id="doc-cmd.to" href="#doc-cmd.to" class=anchor><b>to</b></a>
  where to write output.</li>
</ul>
<b>Methods</b> <ul>
  <li><a id="doc-cmd.tryfind" href="#doc-cmd.tryfind" class=anchor><b>fn tryfind</b></a><span class=code>(obj) -&gt; any?</span><br>
  
  Find the object/name or return nil.</li>
  <li><a id="doc-cmd.find" href="#doc-cmd.find" class=anchor><b>fn find</b></a><span class=code>(obj) -&gt; any</span><br>
  
  Find the object/name.</li>
  <li><a id="doc-cmd.Doc" href="#doc-cmd.Doc" class=anchor><b>fn Doc</b></a><br>
  
  Object passed to __doc methods.
  Aids in writing cxt.</li>
</ul>
<br>
<h3><a id="doc.lua" href="#doc.lua" class=anchor>Mod doc.lua</h3></a>
<b>Functions</b> <ul>
  <li><a id="doc.lua.keyword" href="#doc.lua.keyword" class=anchor><b>fn keyword</b></a><span class=code>() -&gt; setmetatable({}, Keyword)</span></li>
  <li><a id="doc.lua.next" href="#doc.lua.next" class=anchor><b>fn next</b></a><span class=code>(tbl, key) -&gt; nextKey</span><br>
  
  Get the next key in the table. Used for iterating through tables.
  If <span class=code>key=nil</span> returns the first key. Returns <span class=code>nil</span> when <span class=code>key</span> is
  the last key.</li>
  <li><a id="doc.lua.pcall" href="#doc.lua.pcall" class=anchor><b>fn pcall</b></a><span class=code>(fn, ...) -&gt; ok, fn(...)</span><br>
  
  call a function but catch errors. Returns <span class=code>ok</span> followed by the function
  results. If not ok, returns the error.</li>
  <li><a id="doc.lua.select" href="#doc.lua.select" class=anchor><b>fn select</b></a><br>
  
  select elements in varargs <span class=code>...</span> at and after index.
  
  Special value: if <span class=code>index='#'</span> then returns length of <span class=code>...</span></li>
  <li><a id="doc.lua.type" href="#doc.lua.type" class=anchor><b>fn type</b></a><span class=code>(val) -&gt; string</span><br>
  
  Get the type of <span class=code>val</span>. Possible return values are: <ul>
    <li>data: nil number string boolean table</li>
    <li>other: function thread userdata</li>
  </ul>
  <div class=info> See also: metaty.ty(v) for metatypes</div></li>
  <li><a id="doc.lua.setmetatable" href="#doc.lua.setmetatable" class=anchor><b>fn setmetatable</b></a><br>
  
  Sets the metatable on the table which can get gotten with
  <span class=code>getmetatable</span> and affects the behavior of operators.
  
  All metamethods: <div class=code-block>&nbsp; __index &nbsp; &nbsp;(i.e. t[k]) &nbsp; &nbsp; NOTE: these are only called<br>
&nbsp; __newindex (i.e. t[k] = v) &nbsp; &nbsp; &nbsp; when key is missing!<br>
&nbsp; <br>
&nbsp; __call &nbsp; &nbsp; (i.e. t())<br>
&nbsp; __tostring (i.e. tostring(t))<br>
&nbsp; <br>
&nbsp; + &nbsp; &nbsp; &nbsp; &nbsp; - &nbsp; &nbsp; &nbsp; &nbsp;* &nbsp; &nbsp; &nbsp; &nbsp;/ &nbsp; &nbsp; &nbsp; // &nbsp; &nbsp; &nbsp; &nbsp;%<br>
&nbsp; __add &nbsp; &nbsp; __sub &nbsp; &nbsp;__mul &nbsp; &nbsp;__div &nbsp; __idiv &nbsp; &nbsp;__mod<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; __unm<br>
&nbsp; <br>
&nbsp; &amp; &nbsp; &nbsp; &nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp;~ &nbsp; &nbsp; &nbsp; &nbsp;&lt;&lt; &nbsp; &nbsp; &nbsp;&gt;&gt; &nbsp; &nbsp; &nbsp; &nbsp;^<br>
&nbsp; __band &nbsp; &nbsp;__bor &nbsp; &nbsp;__bnot &nbsp; __shl &nbsp; __shr &nbsp; &nbsp; __pow<br>
&nbsp; <br>
&nbsp; == &nbsp; &nbsp; &nbsp; &nbsp;&lt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;= &nbsp; &nbsp; &nbsp; # &nbsp; &nbsp; &nbsp; &nbsp;..<br>
&nbsp; __eq &nbsp; &nbsp; &nbsp;__lt &nbsp; &nbsp; __le &nbsp; &nbsp; __len &nbsp; &nbsp;__concat<br>
&nbsp; <br>
&nbsp; __name<br>
&nbsp; 
</div>
  
  <div class=info> See also metaty metamethods: __fields   __fmt</div></li>
  <li><a id="doc.lua.getmetatable" href="#doc.lua.getmetatable" class=anchor><b>fn getmetatable</b></a><span class=code>(t) -&gt; mt</span><br>
  
  See setmetatable.</li>
  <li><a id="doc.lua.tostring" href="#doc.lua.tostring" class=anchor><b>fn tostring</b></a><span class=code>(v) -&gt; string</span><br>
  
  Convert any value to a string by calling __tostring or using lua's default.</li>
  <li><a id="doc.lua.string.concat" href="#doc.lua.string.concat" class=anchor><b>fn string.concat</b></a><span class=code>(sep, ...) -&gt; string</span><br>
  
  concatenate the string arguments.</li>
  <li><a id="doc.lua.string.find" href="#doc.lua.string.find" class=anchor><b>fn string.find</b></a><span class=code>(subj, pat, index=1) -&gt; (si, ei, ...matches)</span><br>
  
  Find the pattern in the subj (subject) string, starting at the index.
  returns the si (start index), ei (end index) and match groups
  (see <a href="#string.match">#string.match</a>).
  
  <div class=code-block>T.eq({2, 4}, &nbsp; &nbsp; &nbsp; {find('%w+', ' bob is nice')})<br>
T.eq({2, 7, 'is'}, {find(' bob is nice', '%w+ (%w+)')})
</div>
  
  Character classes for matching specific sets: <div class=code-block>&nbsp; &nbsp; . &nbsp; all characters<br>
&nbsp; &nbsp; %a &nbsp;letters<br>
&nbsp; &nbsp; %c &nbsp;control characters<br>
&nbsp; &nbsp; %d &nbsp;digits<br>
&nbsp; &nbsp; %l &nbsp;lower case letters<br>
&nbsp; &nbsp; %p &nbsp;punctuation characters<br>
&nbsp; &nbsp; %s &nbsp;space characters<br>
&nbsp; &nbsp; %u &nbsp;upper case letters<br>
&nbsp; &nbsp; %w &nbsp;alphanumeric characters<br>
&nbsp; &nbsp; %x &nbsp;hexadecimal digits<br>
&nbsp; &nbsp; %z &nbsp;the character with representation 0<br>
&nbsp; 
</div>
  
  Magic characters, <span class=code>.</span> indicates one character, more indicates many
  <div class=code-block>&nbsp; %. &nbsp; &nbsp; selects a character class or escapes a magic char<br>
&nbsp; (...) &nbsp;create a group<br>
&nbsp; [...] &nbsp;create your own character class<br>
&nbsp; [^..] &nbsp;inversion of [...]<br>
&nbsp; +. &nbsp; &nbsp; match one or more of previous class &nbsp;(NOT group)<br>
&nbsp; *. &nbsp; &nbsp; match zero or more of previous class (NOT group)<br>
&nbsp; ? &nbsp; &nbsp; &nbsp;match zero or one of previous class &nbsp;(NOT group)<br>
&nbsp; ^... &nbsp; if at pat[1], match only beggining of text<br>
&nbsp; ...$ &nbsp; if at pat[#pat], match only end of text<br>
&nbsp; %1-9 &nbsp; matches the previously matched group index EXACTLY
</div></li>
  <li><a id="doc.lua.string.match" href="#doc.lua.string.match" class=anchor><b>fn string.match</b></a><span class=code>(subj, pat, index=1) -&gt; ...groups</span><br>
  
  Return the capture groups of pat or the whole match if no capture groups.
  index: where to start the search and can be negative.
  
  See also: string.find.</li>
  <li><a id="doc.lua.string.gmatch" href="#doc.lua.string.gmatch" class=anchor><b>fn string.gmatch</b></a><span class=code>(subj, pat, index=1) -&gt; iterator()</span><br>
  
  Return an iterator function that when called returns the next capture group.
  index: where to start the search and can be negative.
  
  See also: string.find.</li>
  <li><a id="doc.lua.string.sub" href="#doc.lua.string.sub" class=anchor><b>fn string.sub</b></a><span class=code>(subj, si, ei) -&gt; str[si:ei]</span><br>
  
  Return substring by index. <span class=code>("1234"):sub(3,4) == "34"</span>
  
  <div class=info>Note: This is confusingly named considering string.gsub uses pattern
  matching. Such is life.</div></li>
  <li><a id="doc.lua.string.gsub" href="#doc.lua.string.gsub" class=anchor><b>fn string.gsub</b></a><span class=code>(subj, pat, repl, index=1) -&gt; string</span><br>
  
  Substittue all matches of pattern with repl, returning the new string.
  
  <span class=code>repl</span> can be a: <ul>
    <li>string: replace with the string except <span class=code>%1-9</span> will be
    a matched group from <span class=code>pat</span> and <span class=code>%%</span> is a literal <span class=code>%</span>.</li>
    <li>table: the table will be queried for every match using
    the first capture as key.</li>
    <li><span class=code>function(...matches) -&gt; string</span>: the function will be called
    with all match groups for each match.</li>
  </ul>
  
  See also: string.find for pattern documentation.</li>
  <li><a id="doc.lua.string.format" href="#doc.lua.string.format" class=anchor><b>fn string.format</b></a><span class=code>(fmt: str, ...) -&gt; str</span><br>
  
  Format values into a fmt string, i.e: <span class=code>format('%s: %i', 'age', 42)</span>
  
  Directives: <div class=table><table>
    <tr>
      <td><span class=code>%%</span></td>
      <td>literal % char</td>
    </tr>
    <tr>
      <td><span class=code>%d</span></td>
      <td>decimal</td>
    </tr>
    <tr>
      <td><span class=code>%o</span></td>
      <td>octal</td>
    </tr>
    <tr>
      <td><span class=code>%x</span></td>
      <td>hexidecimal (%X uppercase)</td>
    </tr>
    <tr>
      <td><span class=code>%f</span></td>
      <td>floating point</td>
    </tr>
    <tr>
      <td><span class=code>%s</span></td>
      <td>string</td>
    </tr>
  </table></div>
  
  Directive control structure (ignore spaces): <div class=code-block>&nbsp; &nbsp; % (specifier width)? directive<br>
&nbsp; 
</div>
  
  Where <span class=code>width</span> is an integer and <span class=code>specifier</span> can be one of <div class=table><table>
    <tr>
      <td><span class=code>+</span></td>
      <td>right justify to width (the default)</td>
    </tr>
    <tr>
      <td><span class=code>-</span></td>
      <td>left justify to width</td>
    </tr>
    <tr>
      <td><span class=code>&nbsp;</span></td>
      <td>prefix a positive number with a space</td>
    </tr>
    <tr>
      <td><span class=code>#</span></td>
      <td>prefix o, x or X directives with 0, 0x and 0X respectively</td>
    </tr>
    <tr>
      <td><span class=code>0</span></td>
      <td>left-pad a number with zeros</td>
    </tr>
  </table></div>
  
  Examples: <div class=code-block>&nbsp; &nbsp; sfmt = string.format<br>
&nbsp; &nbsp; T.eq('age: 42', &nbsp; &nbsp;sfmt('%s: %i', &nbsp; 'age', 42))<br>
&nbsp; &nbsp; T.eq('age: &nbsp; &nbsp;42', sfmt('%s: %5i', &nbsp;'age', 42))<br>
&nbsp; &nbsp; T.eq('age: 42 &nbsp; ', &nbsp; &nbsp; sfmt('%s: %-5i', 'age', 42))<br>
&nbsp; &nbsp; T.eq('age: 00042', sfmt('%s: %05i', 'age', 42)<br>
&nbsp; 
</div></li>
  <li><a id="doc.lua.string.byte" href="#doc.lua.string.byte" class=anchor><b>fn string.byte</b></a><span class=code>(str, si=1, ei=si) -&gt; ...ints</span><br>
  
  Get ASCII (integer) codes for <span class=code>s[si:ei</span></li>
</ul>

Example: <span class=code>T.eq({98, 99}, {string.byte('abcd', 2, 3)})</span>
* <a id="doc.lua.string.char" href="#doc.lua.string.char" class=anchor><b>fn string.char</b></a><span class=code>(c1, c2, ...) -&gt; string</span><br>

convert character codes to string and concatenate
* <a id="doc.lua.string.rep" href="#doc.lua.string.rep" class=anchor><b>fn string.rep</b></a><br>

repeat str n times with separator
* <a id="doc.lua.string.pack" href="#doc.lua.string.pack" class=anchor><b>fn string.pack</b></a><br>

pack the values as bytes into the string using the strtys.

strtys is a string of the form: <div class=table><table>
  <tr>
    <td><span class=code>&nbsp;&lt; &nbsp;&gt; &nbsp;=</span></td>
    <td>(start only) little / big / native endian</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;!# &nbsp; &nbsp; </span></td>
    <td>(start only) max alignment = <span class=code>#</span> bytes</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;b B &nbsp; &nbsp;</span></td>
    <td>signed / unsigned byte</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;h H l L</span></td>
    <td>native short(h) and long(l) + unsigned vers</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;i# I# &nbsp;</span></td>
    <td>signed/unsigned int with <span class=code>#</span> bytes</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;f d &nbsp; &nbsp;</span></td>
    <td>native float / double</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;T &nbsp; &nbsp; &nbsp;</span></td>
    <td>size_t</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;c# &nbsp; &nbsp; </span></td>
    <td>fixed-sized string of <span class=code>#</span> bytes (unaligned)</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;z &nbsp; &nbsp; &nbsp;</span></td>
    <td>zero-terminated string        (unaligned)</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;s# &nbsp; &nbsp; </span></td>
    <td>counted string of size <span class=code>#</span> bytes</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;x &nbsp; &nbsp; &nbsp;</span></td>
    <td>one byte of padding</td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;Xo &nbsp; &nbsp; </span></td>
    <td>align to option <span class=code>o</span>, i.e. <span class=code>Xi4</span></td>
  </tr>
  <tr>
    <td><span class=code>&nbsp;j J n &nbsp;</span></td>
    <td>lua Integer / Unsigned / Number</td>
  </tr>
</table></div>

Example: <div class=code-block>&nbsp; T.eq(string.pack('&gt;i2i2', 0x1234, 0x5678) == '\x12\x34\x56\x78')]<br>
&nbsp; 
</div>
* <a id="doc.lua.string.unpack" href="#doc.lua.string.unpack" class=anchor><b>fn string.unpack</b></a><br>

See string.pack for the fmt
* <a id="doc.lua.string.packsize" href="#doc.lua.string.packsize" class=anchor><b>fn string.packsize</b></a><br>

Get the size which is used by strtys.
* <a id="doc.lua.string.dump" href="#doc.lua.string.dump" class=anchor><b>fn string.dump</b></a><br>

not documented: see <span class=code>string</span> module
* <a id="doc.lua.string.reverse" href="#doc.lua.string.reverse" class=anchor><b>fn string.reverse</b></a><br>

not documented: see <span class=code>string</span> module
* <a id="doc.lua.string.lower" href="#doc.lua.string.lower" class=anchor><b>fn string.lower</b></a><br>

not documented: see <span class=code>string</span> module
* <a id="doc.lua.string.len" href="#doc.lua.string.len" class=anchor><b>fn string.len</b></a><br>

not documented: see <span class=code>string</span> module
* <a id="doc.lua.string.upper" href="#doc.lua.string.upper" class=anchor><b>fn string.upper</b></a><br>

not documented: see <span class=code>string</span> module
* <a id="doc.lua.table.update" href="#doc.lua.table.update" class=anchor><b>fn table.update</b></a><span class=code>(to, from) -&gt; to</span><br>

update to with from, return to.

Note: this is an addon from metaty.
* <a id="doc.lua.table.concat" href="#doc.lua.table.concat" class=anchor><b>fn table.concat</b></a><span class=code>(t, sep='') -&gt; string</span><br>

concatenate a table of strings with optional separator.

Examples: <div class=code-block>&nbsp; concat = table.concat<br>
&nbsp; T.eq(1..' = '..3, concat{1, ' = ', 3})<br>
&nbsp; T.eq('1, 2, 3', &nbsp; concat({1, 2, 3}, ', ')<br>
&nbsp; 
</div>
* <a id="doc.lua.table.remove" href="#doc.lua.table.remove" class=anchor><b>fn table.remove</b></a><span class=code>(t, index=#table) -&gt; t[index]</span><br>

remove an item from a table, returning it.
The table is shifted if index < #table which may cost up to O(n)
* <a id="doc.lua.table.sort" href="#doc.lua.table.sort" class=anchor><b>fn table.sort</b></a><span class=code>(list, cmp=lt) -&gt; nil</span><br>

sort a table in place using a comparison function <span class=code>cmp</span> who's behavior
must be: <span class=code>cmp(a, b) --&gt; makeAFirst</span>
* <a id="doc.lua.table.insert" href="#doc.lua.table.insert" class=anchor><b>fn table.insert</b></a><br>

insert or push to table (list-like)

Example: <div class=code-block>&nbsp; local push = table.insert<br>
&nbsp; local t = {}<br>
&nbsp; <br>
&nbsp; -- push/append behavior<br>
&nbsp; push(t, 'd') &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- {'d'<br>
&nbsp; push(t, 'e') &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- {'d', 'e'}<br>
&nbsp; <br>
&nbsp; -- insert behavior<br>
&nbsp; table.insert(t, 'b', 1) -- {'b', 'd', 'e'}<br>
&nbsp; table.insert(t, 'c', 2) -- {'b', 'c', 'd', 'e'}<br>
&nbsp; T.eq({'b', 'c', 'd', 'e'}, t)<br>
&nbsp; 
</div>
* <a id="doc.lua.table.move" href="#doc.lua.table.move" class=anchor><b>fn table.move</b></a><br>

Move values from one list to another.
Note that <span class=code>si=startIndex</span> and <span class=code>ei=endIndex</span> (inclusive).

Equivalent to the following, though done in a way
that will properly handle overlapping data: <div class=code-block>&nbsp; ti = siTo<br>
&nbsp; for fi=siFrom,eiFrom do<br>
&nbsp; &nbsp; to[ti] = from[fi]; ti = ti + 1<br>
&nbsp; end<br>
&nbsp; 
</div>
* <a id="doc.lua.io.popen" href="#doc.lua.io.popen" class=anchor><b>fn io.popen</b></a><br>

Execute shell command in separate process.

See also: <ul>
  <li><span class=code>os.execute()</span>: docs on file:close()</li>
  <li><a href="lib/civix">lib/civix</a><span class=code>.sh()</span>: ergonomic blocking shell.</li>
</ul>
* <a id="doc.lua.io.write" href="#doc.lua.io.write" class=anchor><b>fn io.write</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.lines" href="#doc.lua.io.lines" class=anchor><b>fn io.lines</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.read" href="#doc.lua.io.read" class=anchor><b>fn io.read</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.tmpfile" href="#doc.lua.io.tmpfile" class=anchor><b>fn io.tmpfile</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.type" href="#doc.lua.io.type" class=anchor><b>fn io.type</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.input" href="#doc.lua.io.input" class=anchor><b>fn io.input</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.close" href="#doc.lua.io.close" class=anchor><b>fn io.close</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.output" href="#doc.lua.io.output" class=anchor><b>fn io.output</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.open" href="#doc.lua.io.open" class=anchor><b>fn io.open</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.io.flush" href="#doc.lua.io.flush" class=anchor><b>fn io.flush</b></a><br>

not documented: see <span class=code>io</span> module
* <a id="doc.lua.os.execute" href="#doc.lua.os.execute" class=anchor><b>fn os.execute</b></a><span class=code>(string) -&gt; (ok, "exit", rc)</span><br>

Execute shell command via C's `system` API. Returns: <ul>
  <li>ok:      true on command success, false if rc>0</li>
  <li>"exit":  always literal "exit" if command completed</li>
  <li>rc:      the return code of the command</li>
</ul>
<div class=code-block>&nbsp; os.execute'shell command' -&gt; (ok, "exit", rc)<br>
&nbsp; os.execute() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-&gt; isShellAvailable
</div>

Prints whatever was executed. There are no ways to
redirect the output besides piping in the command
string itself.

Recommendation:
For all but the simplest cases use io.popen instead
* <a id="doc.lua.os.time" href="#doc.lua.os.time" class=anchor><b>fn os.time</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.clock" href="#doc.lua.os.clock" class=anchor><b>fn os.clock</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.difftime" href="#doc.lua.os.difftime" class=anchor><b>fn os.difftime</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.getenv" href="#doc.lua.os.getenv" class=anchor><b>fn os.getenv</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.remove" href="#doc.lua.os.remove" class=anchor><b>fn os.remove</b></a><span class=code>(path) -&gt; nil</span><br>

remove file.
* <a id="doc.lua.os.tmpname" href="#doc.lua.os.tmpname" class=anchor><b>fn os.tmpname</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.exit" href="#doc.lua.os.exit" class=anchor><b>fn os.exit</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.date" href="#doc.lua.os.date" class=anchor><b>fn os.date</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.setlocale" href="#doc.lua.os.setlocale" class=anchor><b>fn os.setlocale</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.os.rename" href="#doc.lua.os.rename" class=anchor><b>fn os.rename</b></a><br>

not documented: see <span class=code>os</span> module
* <a id="doc.lua.math.type" href="#doc.lua.math.type" class=anchor><b>fn math.type</b></a><span class=code>(v) -&gt; ("float" | "integer" | nil)</span>
* <a id="doc.lua.math.max" href="#doc.lua.math.max" class=anchor><b>fn math.max</b></a><span class=code>(x, ...) -&gt; max according to [$&lt;]</span>
* <a id="doc.lua.math.min" href="#doc.lua.math.min" class=anchor><b>fn math.min</b></a><span class=code>(x, ...) -&gt; min according to [$&lt;]</span>
* <a id="doc.lua.math.cos" href="#doc.lua.math.cos" class=anchor><b>fn math.cos</b></a><span class=code>(x) -&gt; cos(x) in radians</span>
* <a id="doc.lua.math.sin" href="#doc.lua.math.sin" class=anchor><b>fn math.sin</b></a><span class=code>(x) -&gt; sin(x) in radians</span>
* <a id="doc.lua.math.tan" href="#doc.lua.math.tan" class=anchor><b>fn math.tan</b></a><span class=code>(x) -&gt; tan(x) in radians</span>
* <a id="doc.lua.math.acos" href="#doc.lua.math.acos" class=anchor><b>fn math.acos</b></a><span class=code>(x) -&gt; arccos(x) in radians</span>
* <a id="doc.lua.math.asin" href="#doc.lua.math.asin" class=anchor><b>fn math.asin</b></a><span class=code>(x) -&gt; arcsin(x) in radians</span>
* <a id="doc.lua.math.atan2" href="#doc.lua.math.atan2" class=anchor><b>fn math.atan2</b></a><span class=code>(n, d) -&gt; arctan(n / d) in radians</span>
* <a id="doc.lua.math.exp" href="#doc.lua.math.exp" class=anchor><b>fn math.exp</b></a><span class=code>(x) -&gt; e^x (where e is the natural log base)</span>
* <a id="doc.lua.math.rad" href="#doc.lua.math.rad" class=anchor><b>fn math.rad</b></a><br>

currently not documented
* <a id="doc.lua.math.modf" href="#doc.lua.math.modf" class=anchor><b>fn math.modf</b></a><br>

currently not documented
* <a id="doc.lua.math.sinh" href="#doc.lua.math.sinh" class=anchor><b>fn math.sinh</b></a><br>

currently not documented
* <a id="doc.lua.math.sqrt" href="#doc.lua.math.sqrt" class=anchor><b>fn math.sqrt</b></a><br>

currently not documented
* <a id="doc.lua.math.abs" href="#doc.lua.math.abs" class=anchor><b>fn math.abs</b></a><br>

currently not documented
* <a id="doc.lua.math.ult" href="#doc.lua.math.ult" class=anchor><b>fn math.ult</b></a><br>

currently not documented
* <a id="doc.lua.math.ldexp" href="#doc.lua.math.ldexp" class=anchor><b>fn math.ldexp</b></a><br>

currently not documented
* <a id="doc.lua.math.atan2" href="#doc.lua.math.atan2" class=anchor><b>fn math.atan2</b></a><span class=code>(n, d) -&gt; arctan(n / d) in radians</span>
* <a id="doc.lua.math.cosh" href="#doc.lua.math.cosh" class=anchor><b>fn math.cosh</b></a><br>

currently not documented
* <a id="doc.lua.math.log" href="#doc.lua.math.log" class=anchor><b>fn math.log</b></a><br>

currently not documented
* <a id="doc.lua.math.frexp" href="#doc.lua.math.frexp" class=anchor><b>fn math.frexp</b></a><br>

currently not documented
* <a id="doc.lua.math.randomseed" href="#doc.lua.math.randomseed" class=anchor><b>fn math.randomseed</b></a><br>

currently not documented
* <a id="doc.lua.math.log10" href="#doc.lua.math.log10" class=anchor><b>fn math.log10</b></a><br>

currently not documented
* <a id="doc.lua.math.fmod" href="#doc.lua.math.fmod" class=anchor><b>fn math.fmod</b></a><br>

currently not documented
* <a id="doc.lua.math.pow" href="#doc.lua.math.pow" class=anchor><b>fn math.pow</b></a><br>

currently not documented
* <a id="doc.lua.math.floor" href="#doc.lua.math.floor" class=anchor><b>fn math.floor</b></a><br>

currently not documented
* <a id="doc.lua.math.tanh" href="#doc.lua.math.tanh" class=anchor><b>fn math.tanh</b></a><br>

currently not documented
* <a id="doc.lua.math.random" href="#doc.lua.math.random" class=anchor><b>fn math.random</b></a><br>

currently not documented
* <a id="doc.lua.math.deg" href="#doc.lua.math.deg" class=anchor><b>fn math.deg</b></a><br>

currently not documented
* <a id="doc.lua.math.ceil" href="#doc.lua.math.ceil" class=anchor><b>fn math.ceil</b></a><br>

currently not documented
* <a id="doc.lua.math.tointeger" href="#doc.lua.math.tointeger" class=anchor><b>fn math.tointeger</b></a><br>

currently not documented
* <a id="doc.lua.for" href="#doc.lua.for" class=anchor><b>fn for</b></a><span class=code>()</span><br>

for is a looping construct with two forms:

Numeric: <div class=code-block>&nbsp; &nbsp; for i=si,ei,period do -- period=1 by default<br>
&nbsp; &nbsp; &nbsp; ... do something with i<br>
&nbsp; &nbsp; end<br>
&nbsp; <br>
&nbsp; &nbsp; -- is basically the same as<br>
&nbsp; &nbsp; local i = si<br>
&nbsp; &nbsp; while i &lt;= ei do i = i + si<br>
&nbsp; &nbsp; &nbsp; ... do something with i<br>
&nbsp; &nbsp; end<br>
&nbsp; 
</div>

Generic: <div class=code-block>&nbsp; &nbsp; for i, v, etc in (nextfn, state, _index) do<br>
&nbsp; &nbsp; &nbsp; .. do something with i, v, ...<br>
&nbsp; &nbsp; end<br>
&nbsp; <br>
&nbsp; &nbsp; -- is almost the same as<br>
&nbsp; &nbsp; while true do<br>
&nbsp; &nbsp; &nbsp; local i, v, etc = nextfn(state, _index)<br>
&nbsp; &nbsp; &nbsp; if i == nil then break end<br>
&nbsp; &nbsp; &nbsp; _index = i -- note: C internal, _index from lua doesn't change<br>
&nbsp; &nbsp; &nbsp; ... code using i, v, etc here<br>
&nbsp; &nbsp; end<br>
&nbsp; 
</div>

The goal in writing a stateless iterator function is to match this
loop's API as much as possible.

Example rewriting ipairs: <div class=code-block>&nbsp; &nbsp; local function rawipairs(t, i)<br>
&nbsp; &nbsp; &nbsp; i = i + 1<br>
&nbsp; &nbsp; &nbsp; if i &gt; #t then return nil end<br>
&nbsp; &nbsp; &nbsp; return i, t[i]<br>
&nbsp; &nbsp; end<br>
&nbsp; &nbsp; local function myipairs_(t)<br>
&nbsp; &nbsp; &nbsp; return rawipairs, t, 0<br>
&nbsp; &nbsp; end<br>
&nbsp; &nbsp; for i, v in myipairs{5, 6, 7} do<br>
&nbsp; &nbsp; &nbsp; iterates through (1, 5) -&gt; (2, 6) -&gt; (3, 7)<br>
&nbsp; &nbsp; end<br>
&nbsp; 
</div>

Example rewriting pairs using <span class=code>next(t, key)</span>: <div class=code-block>&nbsp; &nbsp; function mypairs(t)<br>
&nbsp; &nbsp; &nbsp; return next, t, nil<br>
&nbsp; &nbsp; end<br>
&nbsp; &nbsp; for k, v in mypairs{a=1, b=2, c=3} do<br>
&nbsp; &nbsp; &nbsp; iterates through ('a', 1) -&gt; ('b', 2) -&gt; ('c', 3)<br>
&nbsp; &nbsp; end<br>
&nbsp; 
</div>

See also: metaty.split is a more complex example.
</div></body>
</html>
