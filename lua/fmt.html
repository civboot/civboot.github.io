<head>
  <meta charset="utf-8">
  <title>Civboot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles.css">
</head>
<nav>
  <ul>
    <a href="../index.html"   class="nav"             >civ/</a>
    <a href="index.html"      class="nav nav-selected">lua/</a>
  </ul>
</nav>

<!DOCTYPE html>
<html>
<body><div class=doc>
<h1>fmt module: format and style anything</h1>
<br>
The fmt module is a small (~200 lines of code) module which formats arbitrary
lua types as well as enables users to define formatting for their own
<a href="#Package_metaty">metatypes</a> via the <span class=code>function __fmt(self, fmter)</span> method.
<br>
It also provides several helper methods such as <span class=code>print</span>, <span class=code>assertf</span> and
<span class=code>errorf</span>, making it more convienent to print or format types. In addition, it
sets <span class=code>io.fmt = io.fmt or Fmt{to=io.stderr}</span>, providing a default hook for
<a href="#ds.log">#ds.log</a> and command line utilities to write formatted text to.
<br>
The <a href="#fmt.Fmt">#fmt.Fmt</a> interface (which is passed to a metaty's <span class=code>__fmt</span> method if
present) accepts both <span class=code>write</span> (like a file) and
<span class=code>styled("style", "styled text", ..."non-styled text")</span>, enabling the
<a href="$Package_asciicolor">asciicolor</a> library (or your own library!) to provide
user-configurable colors for specific styles which integrate with the
<a href="#Package_vt100">vt100</a> library and the <a href="#Package_cxt">cxt</a> libraries. This
is used throughout civlua to provide user-configurable (and optional) color
to the terminal, web-pages and the civlua editor.
<br>
<h2>API / Architecture</h2>
<br>
<a href="#fmt.Fmt">#fmt.Fmt</a> defines the formatter which has methods/settings: <ul>
  <li><span class=code>to [file|Styler</span></li>
</ul> (argument): where to write to. Default is to push to
self, treating Fmt as a list of strings (which you can call <span class=code>table.concat</span>
on).
<br>
* <span class=code>style [boolean</span>
</div></body>
</html>
